<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Boo Babe ðŸ’–</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&family=Quicksand&display=swap" rel="stylesheet">
<style>
body {
    margin:0;
    height:100vh;
    background: linear-gradient(135deg,#ffe5ec,#ffc2d1,#ffd6e8);
    font-family:'Quicksand',sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
}
.letter {
    background:white;
    padding:40px;
    width:80%;
    max-width:600px;
    border-radius:20px;
    box-shadow:0 20px 40px rgba(0,0,0,0.2);
    position:relative;
    animation:fadeIn 2s ease;
}
@keyframes fadeIn { from{opacity:0; transform:translateY(30px);} to{opacity:1; transform:translateY(0);} }
h1 { font-family:'Playfair Display',serif; color:#c9184a; text-align:center; }
p { color:#444; line-height:1.6; font-size:1.1rem; white-space:pre-wrap; }
button {
    margin-top:20px;
    padding:12px 24px;
    border:none;
    border-radius:25px;
    background:#ff4d6d;
    color:white;
    cursor:pointer;
    box-shadow:0 0 15px #ff8fa3;
}

/* Floating hearts behind letter */
.floating-heart {
    position:absolute;
    font-size:16px;
    opacity:0.4;
    animation:heartFloat 8s linear infinite;
}
@keyframes heartFloat {
    0% { transform:translateY(100vh) rotate(0deg); }
    100% { transform:translateY(-20vh) rotate(360deg); }
}

/* Music button */
#musicBtn {
    position: fixed; bottom: 20px; left:50%; transform: translateX(-50%);
    width:160px; font-size:1rem; z-index:100; background:#ff4d6d; color:white;
    box-shadow:0 0 15px #ff8fa3;
}
#musicBtn.playing { animation: pulse 1s infinite; }
@keyframes pulse { 0%{transform:scale(1);}50%{transform:scale(1.1);}100%{transform:scale(1);} }
</style>
</head>
<body>

<div class="letter">
    <h1>My Boo Babe ðŸ’Œ</h1>
    <p id="text"></p>
    <button onclick="location.href='memories.html'">Open Our Memories ðŸ’ž</button>
</div>

<audio id="bgMusic" src="music.mp3" loop></audio>
<button id="musicBtn">ðŸŽµ Music Off</button>

<script>
// Floating hearts behind letter
for(let i=0;i<12;i++){
    const h=document.createElement('div');
    h.className='floating-heart';
    h.innerHTML='ðŸ’—';
    h.style.left=Math.random()*window.innerWidth+'px';
    h.style.fontSize=(12+Math.random()*12)+'px';
    h.style.animationDuration=(6+Math.random()*4)+'s';
    document.body.appendChild(h);
}

// Typewriter with hearts
const message = `From the moment you came into my life, everything got softer, brighter, and way more meaningful. ðŸ’–
You make normal days feel special and hard days feel easier. Your laugh is  my favorite sound, and your smile? My happy place. ðŸ’—

Thank you for being you. For caring the way you do. For loving me the way you do. ðŸ’•
I canâ€™t wait for more memories, more laughs, more late-night talks, and more Valentineâ€™s Days together. ðŸ’ž
Forever your person ðŸ’–`;
let i=0;
function typeWriter(){
    if(i<message.length){
        document.getElementById("text").innerHTML += message.charAt(i);
        i++;
        setTimeout(typeWriter, 35);
    }
}
typeWriter();

// Mobile-friendly music toggle
const bgMusic = document.getElementById("bgMusic");
const musicBtn = document.getElementById("musicBtn");

function updateMusicBtn(){
    if(!bgMusic.paused){ musicBtn.textContent = "ðŸŽµ Music On"; musicBtn.classList.add("playing"); }
    else{ musicBtn.textContent = "ðŸŽµ Music Off"; musicBtn.classList.remove("playing"); }
}

let musicOn = localStorage.getItem("musicOn")==="true";
if(musicOn){
    document.body.addEventListener("click", ()=>{ bgMusic.play().catch(()=>{}); updateMusicBtn(); }, {once:true});
}

musicBtn.addEventListener("click", ()=>{
    if(bgMusic.paused){ bgMusic.play().catch(()=>{}); localStorage.setItem("musicOn", true); }
    else{ bgMusic.pause(); localStorage.setItem("musicOn", false); }
    updateMusicBtn();
});

document.body.addEventListener("click", ()=>{
    if(bgMusic.paused && musicOn){ bgMusic.play().catch(()=>{}); updateMusicBtn(); }
}, {once:true});
</script>
</body>
</html>
